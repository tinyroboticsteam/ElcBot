<!DOCTYPE html>
<html lang="en">
<head>

<!-- Разметка JSON-LD, созданная Мастером разметки структурированных данных Google. -->
<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Product",
  "name" : "ElcBot",
  "image" : "https://iagsav.github.io/ElcBot/images/ElcBot_logo.png",
  "description" : "Проект робота телеприсутствия"
}
</script>

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="description" content="">
<meta name="keywords" content="робот телеприсутствия, arduino, raspberry-pi, своими руками, робот, телеприсутствие, ElcBot>
<meta name="author" content="">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="google-site-verification" content="rIelhMWRQoLD3J39lpXjgqgjy-uuk3TWUina9DDF8-g" />

<title>ElcBot</title>

<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/font-awesome.min.css">

<!-- Main css -->
<link rel="stylesheet" href="css/style.css">
<link href="https://fonts.googleapis.com/css?family=Work+Sans:300,400,700" rel="stylesheet">

</head>
<body>

<!-- PRE LOADER 

<div class="preloader">
     <div class="sk-spinner sk-spinner-wordpress">
          <span class="sk-inner-circle"></span>
     </div>
</div>
 -->
<!-- Navigation section  -->


<!-- Single Project Section -->

<section id="single-project">
     <div class="container">
          <div class="row">

               <div class="col-md-offset-1 col-md-10 col-sm-12">
                    <h1>Проект робота телеприсутствия ElcBot</h1> 
   						<p align = 'center'>
                         <img src="images/ElcBot_logo.png" width="189" class="img-responsive" alt="Portfolio">
						 </p>
						 <h3>Цель проекта - создание прототипа робота для отладки алгоритмов управления, обработки данных, компьютерного зрения и распознавания звуковых сигналов</h3>
               <div class="clearfix col-md-12 col-sm-12">
               </div>
					
               <div class="col-md-6 col-sm-6">
                        <h3>Аппаратное обеспечение</h3>
						<p align = 'left'>
							<a href="http://wiki.amperka.ru/%D0%BF%D1%80%D0%BE%D0%B4%D1%83%D0%BA%D1%82%D1%8B:arduino-uno">- Плата Arduino Uno</a><br>
							<a href="https://www.raspberrypi.org/products/raspberry-pi-1-model-b/">- Одноплатный компьютер Raspberry Pi B+ (8 Гб)</a><br>
							<a href="https://ru.wikipedia.org/wiki/Kinect">- Игровой контроллер Kinect XBOX 360 (1473)</a> <br>
							<a href="https://umnaya-elektronika.ru/datchiki/sveta-i-cveta/datchikliniitcrt5000cifroanalogovyy/">- Модуль датчика линиии</a> <br>
							<a href="https://ru.wikipedia.org/wiki/Nexus_7_(2012)">- Планшетный компьютер Nexus 7 (2012)</a> <br>
							<a href="https://baza.drom.ru/sell_spare_parts/+/%EC%EE%F2%EE%F0+%F1%F2%E5%EA%EB%EE%EF%EE%E4%FA%E5%EC%ED%E8%EA%E0/model/volkswagen+polo/">- Мотор стеклоподъемника двери (VW Polo)</a> <br>
							<a href="https://ru.aliexpress.com/item/MT-7601-150M-USB-2-0-WiFi-Wireless-Network-Card-802-11-b-g-n-LAN/32827784612.html?spm=a2g0v.search0204.3.219.fdca55fzJ7ZY&ws_ab_test=searchweb0_0,searchweb201602_3_10152_10151_10065_10344_10068_10342_10343_10340_10341_10543_10084_10083_10307_10615_10301_10059_10314_10534_100031_10604_10103_10607_10606_10142_10125,searchweb201603_32,ppcSwitch_5_ppcChannel&algo_expid=f0f68646-7a10-48ed-8dd5-4206779f484d-30&algo_pvid=f0f68646-7a10-48ed-8dd5-4206779f484d&transAbTest=ae803_5&priceBeautifyAB=1">- WiFi модуль для Raspberry Pi B +</a> <br>
							<a href="http://dxnn.ru/18650/">- Питание - элементы 18650</a> <br>
							<a href="https://ru.aliexpress.com/item/EU-Plug-DC-12V-1-08A-USB-AC-Adapter-Power-Supply-for-Xbox-360-XBOX360-Replacement/32738573315.html?spm=a2g0v.search0104.3.2.4GcWFN&ws_ab_test=searchweb0_0,searchweb201602_5_10152_10151_10065_10344_10068_10342_10343_10340_10341_10543_10084_10083_10307_10615_10301_10059_10314_10534_100031_10604_10103_10607_10606_10142_10125,searchweb201603_1,ppcSwitch_5&algo_expid=4b18be08-8df0-4d13-a5c8-ff572a67e82b-0&algo_pvid=4b18be08-8df0-4d13-a5c8-ff572a67e82b&priceBeautifyAB=0
							
">- Питание Kinect</a> <br>
							<a href="models/adapter.stl">- Модель адаптера</a><br>
							<a href="models/wheel.stl">- Модель колеса</a><br>
						</p>						
               </div>

               <div class="col-md-6 col-sm-6">
                        <h3>Программное обеспечение</h3>
						<p align = 'left'>
							<a href="http://www.ros.org/">- Robot Operating System</a> <br>
							<a href="https://downloads.raspberrypi.org/raspbian/images/raspbian-2017-07-05/">- Raspbian Jessie</a> <br>
							<a href="https://github.com/tinyroboticsteam/ElcBot_Code/tree/master/speed_test/speed_test.ino">- Программа оценки скорости вращения колёс</a> <br>
							<a href="https://github.com/tinyroboticsteam/ElcBot_Code/tree/master/speed_test_pwm/speed_test_pwm.ino">- Программа оценки скорости вращения колёс при <br> различном коэффициенте заполнения ШИМ</a><br>
							
							<a href="https://github.com/tinyroboticsteam/ElcBot_Code/tree/master/pi_1/remote_control_withoutsens/remote_control_withoutsens.ino">- Система управления № 1(для Arduino) без <br> использования датчиков</a><br>
							<a href="https://github.com/tinyroboticsteam/ElcBot_Code/tree/master/pi_1/ec.py">- Система управления  № 1 (для Raspberry Pi) без <br> использования датчиков</a><br>

							<a href="https://github.com/tinyroboticsteam/ElcBot_Code/blob/master/pi_2/small_test/small_test.ino"> - Система управления № 2(для Arduino) без <br> использования датчиков <br> для оценки скорости вращения колёс</a><br>
							<a href="https://github.com/tinyroboticsteam/ElcBot_Code/blob/master/pi_2/ec_edt.py">- Система управления № 2(для Raspberry Pi) без <br> использования датчиков (интерфейс)</a><br>
							<a href="https://github.com/tinyroboticsteam/ElcBot_Code/blob/master/pi_2/shell_edt.py">- Система управления № 2(для Raspberry Pi) без <br> использования датчиков (модуль работы с ардуино)</a><br>
							
							
						</p>
               </div>
			   
			        <div class="clearfix col-md-12 col-sm-12">

                    <div class="col-md-6 col-sm-6">
                         <h3>Характеристики робота</h3>
						 <p align = 'left'>
							<b>- Масса каркаса с установленным приводом - 3 кг.<br></b>
							<b>- Высота - 1010 мм.<br></b>
							<b>- Размер основания - 400x400 мм.<br></b>
							<b>- Клиренс в передней части - 18 мм.<br></b>
							<b>- Клиренс в задней части - 36 мм.<br></b>
							<b>- Масса левого колеса - 122 гр.<br></b>
							<b>- Масса правого колеса - 132 гр.<br></b>
							<b>- Максимальная скорость - 4.3 км/ч<br></b>
						 </p>
                    </div>

                    <div class="col-md-6 col-sm-6">
                        <h3>Полезные ссылки</h3>
						<p align = 'left'>
							<a href="http://www.2150692.ru/faq/72-l298n-arduino">- Драйвер двигателей L298N и Arduino</a> <br>
							<a href="https://www.arduino.cc/en/Tutorial/Smoothing">- Сглаживание показаний датчика</a> <br>
							<a href="http://digitrode.ru/computing-devices/mcu_cpu/315-arduino-i-modul-fotoimpulsnogo-datchika-skorosti-vrascheniya-dvigatelya.html">- Оценка скорости вращения колеса</a> <br>
							<a href="http://wiki.ros.org/ROSberryPi/Installing%20ROS%20Indigo%20on%20Raspberry%20Pi">- Установка ROS Indigo</a> <br>
							<a href="http://arduino.ru/tutorials/BlinkWithoutDelay">- Отказ от использования Delay() в Arduino</a> <br>
							<a href="https://www.baldengineer.com/arduino-how-do-you-reset-millis.html">- TODO: Защита от переполнения в Arduino</a> <br>
							<a href="#">- TODO: Установка модуля Kinect в ROS Indigo</a> <br>
							<a href="https://www.bitpi.co/2015/02/11/how-to-change-raspberry-pis-swapfile-size-on-rasbian/">- Увеличение размера swap файла в Raspbian Jessie</a> <br>
						</p>
                    </div>			   
			   
                    <div class="col-md-12 col-sm-12">
						<h2> Печать колёс и адаптеров для колёс</h2>	
						<p align = "left">
						Проект робота подразумевает минимизацию его массы, поэтому было решено отказаться от использования мощных приводов, кислотных аккумуляторов, резиновых колёс. Очень удобными для разработки колёсного 
						привода робота оказались приводы стеклоподёмников VW Polo (6RO.959.802, 6RO.959.801). Заново напечатав на 3D принтере внутреннюю пластиковую втулку привода стеклоподъемника удалось обойтись без 
						использования тяжёлых колёс и металлических составляющих в проектировании колёсного привода робота. Колёса робота также были напечатаны на 3D принтере.
						<p>
                    </div>
					
                    <div class="col-md-6 col-sm-6">
                         <img src="images/img1.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="images/img2.jpg" class="img-responsive" alt="Portfolio">
                    </div>					

                    <div class="col-md-6 col-sm-6">
                         <img src="images/img3.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="images/img4.jpg" class="img-responsive" alt="Portfolio">
                    </div>
					
                    <div class="col-md-12 col-sm-12">
						<h2> Сборка каркаса </h2>	
						<p align = "left">
						Каркас построен на основе алюминиевых швеллеров и уголков минимальной толщины. Между моторами вставлена шпилька диаметром 5 миллиметров для предотвращения их вибрации в процессе движения робота.
						<p>
                    </div>
					
                    <div class="col-md-6 col-sm-6">
                         <img src="images/crc1.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="images/crc2.jpg" class="img-responsive" alt="Portfolio">
                    </div>					
					
                    <div class="col-md-6 col-sm-6">
                         <img src="images/crc5.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="images/crc6.jpg" class="img-responsive" alt="Portfolio">
                    </div>						

                    <div class="col-md-6 col-sm-6">
                         <img src="images/crc3.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="images/crc4.jpg" class="img-responsive" alt="Portfolio">
                    </div>	
					
                    <div class="col-md-12 col-sm-12">
						<h2> Украшенный робот </h2>	
						<p align = "left">
						Робот отмечает Новый 2018 Год.
						<p>
                    </div>	

					<div class="col-md-6 col-sm-6">
                         <img src="images/hny1.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="images/hny2.jpg" class="img-responsive" alt="Portfolio">
                    </div>	

                    <div class="col-md-12 col-sm-12">
						<h2> Установка воздушного охлаждения на драйвер двигателей </h2>	
						<p align = "left">
						Драйвер двигателей сильно нагревался без активного охлаждения после одной минуты работы.
						<p>
                    </div>		

                    <div class="col-md-6 col-sm-6">
                         <img src="images/cool1.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="images/cool2.jpg" class="img-responsive" alt="Portfolio">
                    </div>					
					
                    <div class="col-md-12 col-sm-12">
						<h2> Установка оптических ИК датчиков и энкодеров на колёса </h2>	
						<p align = "left">
						В ходе разработки програмнного обеспечения не получилось написать программу, которая подсчитывает число оборотов колеса на основе прерываний, вследствие большого числа ложных срабатываний. 
						Поэтому, подсчёт оборотов колеса основан на "ручной" обработке показаний датчиков. Для генерации оптического диска энкодера использовалась программа <a href="soft/Codewheel.zip">CodeWheel</a>. 
						Для точной оценки скорости оптический диск разделён на 30 секторов. Оптические диски можно скачать здесь: <a href="data/od_20.bmp">диск на 20 секторов</a>, 
						 <a href="data/od_30.bmp">диск на 30 секторов</a>.
						<p>
                    </div>		

                    <div class="col-md-6 col-sm-6">
                         <img src="images/enc1.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="images/enc2.jpg" class="img-responsive" alt="Portfolio">
                    </div>		
					
                    <div class="col-md-6 col-sm-6">
                         <img src="images/enc3.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="images/enc4.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-12 col-sm-12">
						<h2> Изображения и звук, полученные с Kinect </h2>	
						<p align = "left">
						После установки библиотеки libfreenect с Kinect были получены изображения и <a href="data/sound.zip">звук</a>. 
						Чуть ниже на этой странице, в технических заметках описаны проблемы, с которыми мы столкнулись при запуске libfreenect.
						<p>
                    </div>		

                    <div class="col-md-6 col-sm-6">
                         <img src="data/video.png" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="data/depth.png" class="img-responsive" alt="Portfolio">
                    </div>		
					
                    <div class="col-md-12 col-sm-12">
						<h2> Схема соединения электронных компонент робота </h2>	
						<p align = "left">
						Предложены две схемы: с подключением датчиков для подсчёта числа оборотов колеса и без.
                    </div>		

                    <div class="col-md-6 col-sm-6">
                         <img src="images/splate_v1_bb.png" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="images/splate_v2_bb.png" class="img-responsive" alt="Portfolio">
                    </div>	

                    <div class="col-md-12 col-sm-12">
						<h2> Доработка колёс робота </h2>	
						<p align = "left">
						Колёса доработаны с помощью вспененного двухстороннего скотча и изоленты. Теперь шум от робота при движении снизился.
                    </div>		

                    <div class="col-md-6 col-sm-6">
                         <img src="images/whl1.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="images/whl2.jpg" class="img-responsive" alt="Portfolio">
                    </div>	
					
					
                    <div class="col-md-12 col-sm-12">
						<h2> Установка крепления для Kinect </h2>	
						<p align = "left">
						Крепление для Kinect собрано из алюминиевых уголков и оргстекла.
                    </div>		

                    <div class="col-md-6 col-sm-6">
                         <img src="images/kmnt1.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="images/kmnt2.jpg" class="img-responsive" alt="Portfolio">
                    </div>						
					
                    <div class="col-md-6 col-sm-6">
                         <img src="images/kmnt3.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="images/kmnt4.jpg" class="img-responsive" alt="Portfolio">
                    </div>	

                    <div class="col-md-6 col-sm-6">
                         <img src="images/kmnt5.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="images/kmnt6.jpg" class="img-responsive" alt="Portfolio">
                    </div>						
					
                    <div class="col-md-12 col-sm-12">
						<h2> Создание площадки для размещения электронных компонент </h2>	
						<p align = "left">
                    </div>		
					
				
                    <div class="col-md-6 col-sm-6">
                         <img src="images/emnt1.jpg" class="img-responsive" alt="Portfolio">
                    </div>

					<div class="col-md-6 col-sm-6">
                         <img src="images/emnt2.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="images/emnt3.jpg" class="img-responsive" alt="Portfolio">
                    </div>								
					
                    <div class="col-md-6 col-sm-6">
                         <img src="images/emnt4.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-12 col-sm-12">
						<h2> Звуковая подсистема робота</h2>	
						<p align = "left">
						Схема подключения микрофона и колонок с усилителем к роботу. В нашей версии Raspberry Pi нет микрофона, поэтому используется звуковая карта, подключаемая по USB.	
                    </div>						
						
                    <div class="col-md-12 col-sm-12">
                         <img src="images/snd.jpg" class="img-responsive" alt="Portfolio">
                    </div>						
					
                    <div class="col-md-12 col-sm-12">
						<h2>Награда робота</h2>	
						<p align = "left">
						Наш робот победил в конкурсе IT проект 2018 года в номинации "ВУЗы".
                    </div>						
						
                    <div class="col-md-12 col-sm-12">
                         <img src="images/dipl.png" class="img-responsive" alt="Portfolio">
                    </div>			

					<div class="col-md-12 col-sm-12">
						<h2>Уточнения по Kinect</h2>	
						<p align = "left">
						Программа ./freenect-regtest выполняет запрос данных с кинекта и сохраняет их в четыре файла: registration_test_depth_mm.pgm (флаг - FREENECT_DEPTH_MM), registration_test_depth_raw.pgm (флаг - FREENECT_DEPTH_11BIT), registration_test_depth_registered.pgm (флаг - FREENECT_DEPTH_REGISTERED), registration_test_rgb.ppm (FREENECT_VIDEO_RGB). 
						Изображение registration_test_rgb.ppm - обычное RGB изображение. Чтобы открыть изображения в формате PGM и, в том числе PPM, понадобится Adobe Photoshop или GIMP. 
						При использовании флага FREENECT_DEPTH_MM библиотека libfreenect возвращает расстояние в миллиметрах, при использовании флага FREENECT_DEPTH_REGISTERED библиотека libfreenect возвращает расстояние в миллиметрах, где координаты (x, y) карты глубины соответствуют координатам (x,y) на RGB изображении (640*480).
						При использовании флага FREENECT_DEPTH_11BIT информация о глубине запакована в 11 бит.
                    </div>	
			
					
					
                    <div class="col-md-6 col-sm-6">
                         <img src="images/registration_test_rgb.jpg" class="img-responsive" alt="Portfolio">
                    </div>

					<div class="col-md-6 col-sm-6">
                         <img src="images/registration_test_depth_registered.jpg" class="img-responsive" alt="Portfolio">
                    </div>

                    <div class="col-md-6 col-sm-6">
                         <img src="images/registration_test_depth_raw.jpg" class="img-responsive" alt="Portfolio">
                    </div>								
					
                    <div class="col-md-6 col-sm-6">
                         <img src="images/registration_test_depth_mm.jpg" class="img-responsive" alt="Portfolio">
                    </div>					
					
					
					<div class="col-md-12 col-sm-12">
						<h2>Проблемы libfreenect</h2>	
						<p align = "left">
						В процессе вызова функций библиотеки libfreenect возникают следующие ошибки: "Inconsistent flag", "Lost too many packets", "Invalid magic"
                    </div>	
					
					
                    <div class="col-md-12 col-sm-12">
                         <img src="images/err1.png" class="img-responsive" alt="Portfolio">
                    </div>

					<div class="col-md-12 col-sm-12">
                         <img src="images/err2.png" class="img-responsive" alt="Portfolio">
                    </div>
					
					

					<div class="col-md-12 col-sm-12">
						<h2> Видеопроцесс создания робота </h2>	
						<p align = "left">
						<p>
                    </div>	
					
					<div class="col-md-6 col-sm-6">
						<div align="center"><iframe width="460" height="270" style="margin-left: auto; margin-right: auto;" src="https://www.youtube.com/embed/5z8cooQMGu8" frameborder="0"></iframe></div>
                    </div>	

					
					<div class="col-md-6 col-sm-6">
						<div align="center"><iframe width="460" height="270" style="margin-left: auto; margin-right: auto;" src="https://www.youtube.com/embed/31u3mrIRCF8" frameborder="0"></iframe></div>
                    </div>	
				
					<div class="col-md-6 col-sm-6">
						<div align="center"><iframe width="460" height="270" style="margin-left: auto; margin-right: auto;" src="https://www.youtube.com/embed/05bCLLYqRAg" frameborder="0"></iframe></div>
                    </div>	
					
					<div class="col-md-6 col-sm-6">
						<div align="center"><iframe width="460" height="270" style="margin-left: auto; margin-right: auto;" src="https://www.youtube.com/embed/yPh9lm59HMg" frameborder="0"></iframe></div>
                    </div>	
					
					<div class="col-md-6 col-sm-6">
						<div align="center"><iframe width="460" height="270" style="margin-left: auto; margin-right: auto;" src="https://www.youtube.com/embed/SZs-SYlGWwk" frameborder="0"></iframe></div>
                    </div>	
					
					<div class="col-md-6 col-sm-6">
						<div align="center"><iframe width="460" height="270" style="margin-left: auto; margin-right: auto;" src="https://www.youtube.com/embed/tOChrVSCP24" frameborder="0"></iframe></div>
                    </div>	
					
                    <div class="col-md-6 col-sm-6">
						<div align="center"><iframe width="460" height="270" style="margin-left: auto; margin-right: auto;" src="https://www.youtube.com/embed/_mSnBdvWZXU" frameborder="0"></iframe></div>
                    </div>		
                    
					<div class="col-md-6 col-sm-6">
						<div align="center"><iframe width="460" height="270" style="margin-left: auto; margin-right: auto;" src="https://www.youtube.com/embed/yXeXBPGwmfk" frameborder="0"></iframe></div>
                    </div>	
					
                    <div class="col-md-6 col-sm-6">
						<div align="center"><iframe width="460" height="270" style="margin-left: auto; margin-right: auto;" src="https://www.youtube.com/embed/SaVgf0P3qo4" frameborder="0"></iframe></div>
                    </div>
					
					<div class="col-md-6 col-sm-6">
						<div align="center"><iframe width="460" height="270" style="margin-left: auto; margin-right: auto;" src="https://www.youtube.com/embed/qQdQDoAn1L4" frameborder="0"></iframe></div>
                    </div>
					
					<div class="col-md-6 col-sm-6">
						<div align="center"><iframe width="460" height="270" style="margin-left: auto; margin-right: auto;" src="https://www.youtube.com/embed/ev9Lu4uQCt4" frameborder="0"></iframe></div>
                    </div>					
					
					<div class="col-md-6 col-sm-6">
						<div align="center"><iframe width="460" height="270" style="margin-left: auto; margin-right: auto;" src="https://www.youtube.com/embed/wWkwtUpMtE8" frameborder="0"></iframe></div>
                    </div>							
					

					<div class="col-md-6 col-sm-6">
						<div align="center"><iframe width="460" height="270" style="margin-left: auto; margin-right: auto;" src="https://www.youtube.com/embed/w55ymNwzgCs" frameborder="0"></iframe></div>
                    </div>					
					

					<div class="col-md-6 col-sm-6">
						<div align="center"><iframe width="460" height="270" style="margin-left: auto; margin-right: auto;" src="https://www.youtube.com/embed/SToC7WBajuA" frameborder="0"></iframe></div>
                    </div>	


					<div class="col-md-6 col-sm-6">
						<div align="center"><iframe width="460" height="270" style="margin-left: auto; margin-right: auto;" src="https://www.youtube.com/embed/ghHm39yxoPA" frameborder="0"></iframe></div>
                    </div>	

					<div class="col-md-6 col-sm-6">
						<div align="center"><iframe width="460" height="270" style="margin-left: auto; margin-right: auto;" src="https://www.youtube.com/embed/azzHsoypcZI" frameborder="0"></iframe></div>
                    </div>	


                    <div class="clearfix"></div>
					
					<div class="col-md-12 col-sm-12">
						<h2> История создания робота </h2>	
						<p align = "left">
						1. Идея робота - октябрь 2017 г.<br>
						2. Печать колёс и адаптеров - декабрь 2017 г.<br>
						3. Сборка каркаса - декабрь 2017 г.<br>
						4. Установка охлаждения на драйвер двигателей - январь 2018 г.<br>
						5. Установка Raspbian и ROS Indigo - январь 2018 г.<br>
						6. Разработка программы оценки скорости вращения колёс, подключение оптических датчиков - февраль 2018 г.<br>
						7. Создан логотип робота - март 2018 г.<br>
						8. Выполнена оценка скорости движения колёс робота, в зависимости от коэффициента заполнения широтно-импульсной модуляции. Результаты тестирования можно посмотреть в 
						<a href="data/pwm_log.txt">файле</a>. Значение коэффициента заполнения ШИМ изменяется в диапазоне от 0 до 255. В качестве питания для двигателей использовались
						три элемента 18650(Li-Ion) - март 2018.<br>
						9. Доработаны колёса робота, установлены вольтметры на батарейные блоки - апрель 2018.<br>
						10. Установлено крепление для Kinect - май 2018.<br>
						11. Смонтирована площадка для электронных компонент - сентябрь 2018.<br>
						12. Начата разработка подсистемы голосового управления роботом - октябрь 2018.<br>
						13. Реализована обратная связь от робота: в интерфейсе управления теперь отображается скорость вращения колёс - октябрь 2018.<br>
						
						<p>
                    </div>	
					
					<div class="col-md-12 col-sm-12">
						<h2> Предстоящая работа </h2>	
						<p align = "left">
						1. <s>Нарисовать логотип робота </s><br>
						2. Установить и протестировать на Raspberry Pi модули ROS для работы с Kinect<br>
						3. Написать ПО для управления роботом по WiFi (реализация в виде текстового и графического интерфейса) <br>
						4. Написать ПО для захвата видео и звука с камеры Kinect и вывода видео и звука в интерфейс пользователя<br>
						5. Написать ПО для реализации системы компьютерного зрения<br>
						6. Установка на робот аудиосистемы<br>
						7. <s>Установка библиотеки libfreenect, независящей от ROS</s><br>
						8. <s>Нарисовать схему подключения драйвера двигателей к Arduino </s><br>
						9. <s>Описать результаты подключения libfreenect </s><br>
						10. <s>Сделать защиту от переполнения в программе для оценки скорости вращения колёс для Arduino</s> <br>
						11. <s>Доработать адаптер для питания Kinect от аккмуляторов</s> <br>
						12. Программа с текстовым интерфейсом для управления роботом по ssh с обратной связью.
						13. <s>Панель для размещения электронных компонентов</s> <br>
						
						<p>
                    </div>	
					
					<div class="col-md-12 col-sm-12">
						<h2> Технические замечания </h2>	
						<p align = "left">
						1. При монтировании энкодеров оптические диски были распечатаны на принтере, а потом закрашены маркером, чтобы граница между чёрным и белым была контрастнее.<br><br>
						
						2. Определение перехода между чёрным и белым цветом с помощью энкодеров вначале была реализована через прерывания, однако, были получены множественные срабатывания, в результате был написан код,
						который вручную обрабатывает переходы между чёрным и белым на диске энкодера.<br><br>

						3. В процессе установки ROS Indogo на этапе установки библиотеки liblz4-dev возникали непонятные ошибки, которые вряд ли влияли на саму установку. Скорее всего, они были связаны с процессом
						тестирования степени сжатия библиотекой liblz4-dev на данной платформе. Для решения проблемы в MakeFile: 
						ros_catkin_ws/external_src/lz4-0.0~r131/programs/MakeFile были 
						закомментированы строчки, которые вызывали ошибку. Также в Makefile можно комментировать строчки, которые делают длительные тесты по оценке степени сжатия с помощью библиотеки liblz4-dev.<br><br>
						
						4. Установка библиотек для работы в ROS с Kinect была выполнена с помощью следующей команды: rosinstall_generator libfreenect freenect_camera 
						freenect_launch --rosdistro indigo --deps --wet-only --exclude roslisp --tar > indigo-custom_ros.rosinstall. Не стоит также забывать, что для Raspbian установка выполняется
						из исходников и указанная команда является лишь частью процесса установки из пункта 4.2 на странице 
						<a href="http://wiki.ros.org/ROSberryPi/Installing%20ROS%20Indigo%20on%20Raspberry%20Pi">Установка ROS Indigo</a>.<br><br>
												
						5. В процессе выполнения команды catkin_make_isolated при сборке пакетов, для работы с Kinect, было обнаружено, что процесс зависает во время компиляции одного из пакетов. 
						Как оказалось, это было связано с недостаточным количеством оперативной памяти и размером swap файла. Для решения этой проблемы размер swap файла был увеличен до 1 Гб.
						можно почитать инструкцию по увеличению размера swap файла. 
						
						Для освобождения места на флэшке для создания большого swap файла были удалены <a href="https://lifehacker.com/instantly-free-up-almost-1gb-on-your-raspberry-pi-by-di-1773831271/">
						libre-office и Wolfram Mathematica </a>. Также одной из проблем, при выполнении catkin_make_isolated, было отсутствие различных библиотек: libpoco-dev 
						(<a href="http://osdevlab.blogspot.ru/2016/02/how-to-install-websocket-poco-c-library.html">процесс установки описан здесь</a>),
						CURL (установилась командой apt-get install libcurl4-openssl-dev, но только после выполнения apt-get upgrade), cmake-3.0 не смог найти файл FindEigen3.cmake (сделали для него ссылку:
						sudo ln -s /usr/share/cmake-3.0/Modules/FindEigen3.cmake, <a href="https://github.com/ros-planning/geometric_shapes/issues/69">см. ссылку</a>), OpenCV (sudo apt-get install libopencv-dev), liburdfdom 
						(процесс установки описан <a href="http://wiki.ros.org/ROSberryPi/Installing%20ROS%20Indigo%20on%20Raspberry%20Pi">здесь</a> в пункте 3.2.1, для того, чтобы эта библиотека
						работала с уже установленным программным обеспечением была скачана версия 0.4.2 данной библиотеки: wget https://github.com/ros/urdfdom/archive/0.4.2.tar.gz).
						Всего по времени 99 пакетов компилировались и устанавливались около пяти часов.
						
						<br><br>
						
						6. Установка libfreenect прошла без каких-то особенностей. Для того, чтобы заработали обёртки данной библиотеки для Python были установлены cython2 и cython3 (sudo apt-get install cython, sudo apt-get install cython3), а также были установлены в ON
						соответствующие флаги в файле libfreenect-0.5.7/build/CMakeCache.txt (флаги: BUILD_PYTHON, BUILD_PYTHON2, BUILD_PYTHON3). Для установки обёрток для Python нужно перейти в каталог
						/wrappers/python и выполнить команды sudo python setup.py install (для установки для второго питона) и sudo python3 setup.py install (для установки для третьего питона).

						После компиляции libfreenect появляется несколько демо-программ, которые позволяют вызывать методы libfreenect. Если при запуске демо программ libfreenect перестаёт находить Kinect, можно 
						переключить Kinect в другой USB порт или выключить и включить его.
						
						Известна особенность Kinect 1473, которая заключается в том, что без определённой прошивки нельзя управлять светодиодом и мотором, почитать про это можно 
						<a href="https://github.com/OpenKinect/libfreenect/issues/376">здесь</a>. Решить проблему с загрузкой прошивки можно следующим образом. Скрипт https://github.com/OpenKinect/libfreenect/blob/master/src/fwfetcher.py
						скачивает файл audios.bin, затем этот файл нужно поместить в каталог скомпилированных примеров (examples) и запустить ./freenect-wavrecord. В результате, ./freenect-wavrecord загрузит прошивку в память
						и можно будет пользоваться командой ./freenect-tiltdemo, т.е. управлять мотором. 
						
						
						<br><br>
						
						7. Модуль ROS - kinect_aux после компиляции не оказался работоспособным. Также не удалось запустить модуль imgage_view. Запуск команды:
						rosrun image_view image_view image:=/camera/rgb/image_color приводит к ошибке. Описание ошибки здесь: 
						https://github.com/ros-perception/image_pipeline/issues/201. Может быть, если использовать компиляцию не из исходников, а пакеты,
						можно будет заставить работать эти модули. Модуль freenect запукается без ошибок и находит kinect. После запуска roslaunch freenect_launch freenect.launch и
						выполнения команды rostopic echo /camera/rgb/image_color можно получить данные с камеры ()<br><br>

						<br><br>

						8. Моторы при старте потребляют ток около 2 ампер, в рабочем режиме - около 1 ампера.

						<br><br>
						
						9. Планируется организация звуковой подсистемы для робота, которая будет включать микрофон, динамики, USB звуковую карту. Процесс работы 
						будет реализован в виде запрос-ответ. Распознавание и синтез речи планируется выполнять на основе SpeechKit Cloud API. Активацию модуля
						распознавания будет выполняться по нажатию на кнопку, подключённую к Raspberry Pi. Возможен другой вариант активации - с использованием 
						библиотеки CMU Sphinx, однако это технически несколько сложнее. В принципе, разработав активацию на основе кнопки, добавить активацию
						с помощью CMU Sphinx будет несложно.

						
<!--			


питон либфринект пример: 
https://github.com/amiller/libfreenect-goodies/blob/master/demo_freenect.py
mtor:https://github.com/amiller/libfreenect-goodies
https://gist.github.com/thecapacity/4981937#file-kinect_demo_tilt_scroll-py

cv2.imwrite('messigray.png',img)
-----------------------
Проект робота телеприсутствия ElcBot // The project of the telepresence robot // https://iagsav.github.io/ElcBot/

робот 	
телеприсутствие
робот телеприсутствия	
робот своими руками
robot
telepresence
DIY robot
telepresence robot
tinyroboticsteam
tinyroboticsteamnn
arduino
raspberrypi
ElcBot

-->
						<p>
                    </div>	
					
					
                    <div class="clearfix"></div>
					
					
					
               </div>

          </div>
     </div>
</section>

<!-- Footer  Section -->

<footer>
     <div class="container">
          <div class="row">

               <div class="col-md-offset-1 col-md-4 col-sm-offset-1 col-sm-3">
                    <p>Контакты разработчиков:</p>
                    <p>Игорь Поляков polyakovigor92@gmail.com</p>
                    <p>Василий Гай vasiliy.gai@gmail.com</p>
					
					&copy; 2017<script>new Date().getFullYear()>2017&&document.write("-"+new Date().getFullYear());</script>, В. Е. Гай, И. В. Поляков.

               </div>

               <div class="clearfix col-md-12 col-sm-12">
                    <hr>
               </div>
               
          </div>
     </div>
</footer>


<!-- SCRIPTS -->

<script src="js/jquery.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/custom.js"></script>

</body>
</html>